<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Flutter基础 | Aoe夜白</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/avatar.jpg">
    <meta name="description" content="真正的发现，不是遇见新的风景，而是寻得新的眼睛">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.7b60114b.css" as="style"><link rel="preload" href="/assets/js/app.07dcf3b5.js" as="script"><link rel="preload" href="/assets/js/3.79eb07b7.js" as="script"><link rel="preload" href="/assets/js/1.09246d0c.js" as="script"><link rel="preload" href="/assets/js/15.89f4215f.js" as="script"><link rel="prefetch" href="/assets/js/10.252e21d3.js"><link rel="prefetch" href="/assets/js/11.ddc92d0c.js"><link rel="prefetch" href="/assets/js/12.486cea64.js"><link rel="prefetch" href="/assets/js/13.1066f6fc.js"><link rel="prefetch" href="/assets/js/14.99bd3af3.js"><link rel="prefetch" href="/assets/js/16.8accb7fb.js"><link rel="prefetch" href="/assets/js/17.0a1a79ff.js"><link rel="prefetch" href="/assets/js/18.0b41ec5d.js"><link rel="prefetch" href="/assets/js/19.b58e8060.js"><link rel="prefetch" href="/assets/js/20.a49d0a6f.js"><link rel="prefetch" href="/assets/js/21.ef631fad.js"><link rel="prefetch" href="/assets/js/22.0df11739.js"><link rel="prefetch" href="/assets/js/23.7022d0fa.js"><link rel="prefetch" href="/assets/js/24.a4b141a6.js"><link rel="prefetch" href="/assets/js/25.7609e267.js"><link rel="prefetch" href="/assets/js/4.09519a03.js"><link rel="prefetch" href="/assets/js/5.ceab4357.js"><link rel="prefetch" href="/assets/js/6.20d4ad43.js"><link rel="prefetch" href="/assets/js/7.02b35ec4.js"><link rel="prefetch" href="/assets/js/8.7e8a7949.js"><link rel="prefetch" href="/assets/js/9.b07e765c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7b60114b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1682d3b4><div data-v-1682d3b4><div class="password-shadow password-wrapper-out" style="display:none;" data-v-ab69ced2 data-v-1682d3b4 data-v-1682d3b4><h3 class="title" data-v-ab69ced2>Aoe夜白</h3> <p class="description" data-v-ab69ced2>真正的发现，不是遇见新的风景，而是寻得新的眼睛</p> <label id="box" class="inputBox" data-v-ab69ced2><input type="password" value="" data-v-ab69ced2> <span data-v-ab69ced2>Konck! Knock!</span> <button data-v-ab69ced2>OK</button></label> <div class="footer" data-v-ab69ced2><span data-v-ab69ced2><i class="iconfont reco-theme" data-v-ab69ced2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-ab69ced2>vuePress-theme-reco</a></span> <span data-v-ab69ced2><i class="iconfont reco-copyright" data-v-ab69ced2></i> <a data-v-ab69ced2><span data-v-ab69ced2>Mr.Song</span>
          
        <span data-v-ab69ced2>2017 - </span>
        2022
      </a></span></div></div> <div class="hide" data-v-1682d3b4><header class="navbar" data-v-1682d3b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.jpg" alt="Aoe夜白" class="logo"> <span class="site-name">Aoe夜白</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/Flutter/" class="nav-link"><i class="undefined"></i>
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://web.dev/learn/css/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  LearnCSS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  文档
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      链接
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/kylosong" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1682d3b4></div> <aside class="sidebar" data-v-1682d3b4><div class="personal-info-wrapper" data-v-2eaf8ac6 data-v-1682d3b4><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-2eaf8ac6> <h3 class="name" data-v-2eaf8ac6>
    Mr.Song
  </h3> <div class="num" data-v-2eaf8ac6><div data-v-2eaf8ac6><h3 data-v-2eaf8ac6>15</h3> <h6 data-v-2eaf8ac6>Articles</h6></div> <div data-v-2eaf8ac6><h3 data-v-2eaf8ac6>3</h3> <h6 data-v-2eaf8ac6>Tags</h6></div></div> <ul class="social-links" data-v-2eaf8ac6></ul> <hr data-v-2eaf8ac6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/Flutter/" class="nav-link"><i class="undefined"></i>
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://web.dev/learn/css/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  LearnCSS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  文档
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      链接
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/kylosong" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-ab69ced2 data-v-1682d3b4><h3 class="title" data-v-ab69ced2>Flutter基础</h3> <!----> <label id="box" class="inputBox" data-v-ab69ced2><input type="password" value="" data-v-ab69ced2> <span data-v-ab69ced2>Konck! Knock!</span> <button data-v-ab69ced2>OK</button></label> <div class="footer" data-v-ab69ced2><span data-v-ab69ced2><i class="iconfont reco-theme" data-v-ab69ced2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-ab69ced2>vuePress-theme-reco</a></span> <span data-v-ab69ced2><i class="iconfont reco-copyright" data-v-ab69ced2></i> <a data-v-ab69ced2><span data-v-ab69ced2>Mr.Song</span>
          
        <span data-v-ab69ced2>2017 - </span>
        2022
      </a></span></div></div> <div data-v-1682d3b4><div data-v-1682d3b4><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Flutter基础</h1> <div data-v-83b4938e><i class="iconfont reco-account" data-v-83b4938e><span data-v-83b4938e>Mr.Song</span></i> <i class="iconfont reco-date" data-v-83b4938e><span data-v-83b4938e>5/6/2022</span></i> <i class="iconfont reco-eye" data-v-83b4938e><span id="/blogs/flutter/2022/220502.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-83b4938e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-83b4938e><span class="tag-item" data-v-83b4938e>Flutter</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="widgets-介绍"><a href="#widgets-介绍" class="header-anchor">#</a> Widgets 介绍</h2> <p>Widget 具有不同的生命周期：它们是不可变的，它们会存在于状态被改变之前, 每当widget或其状态发生变化时，Flutter的框架都会创建一个新的widget实例树。</p> <p>与View不同，flutter的Widget很轻巧，部分原因在于它的不变性。因为它本身不是视图，并且不是直接绘制任何东西，而是对UI及其语义的描述</p> <p>Flutter包含了Material组件库，这些widgets遵循了Materail设计规范。材料设计是一个灵活的设计系统，并且为包括IOS在内的所有系统进行了优化。</p> <p>在Flutter中，widget是不可变的，不会直接更新。相反，我们可以通过操纵widget的状态来更新它们。这就是有状态和无状态widget概念的来源</p> <p>无状态widget和有状态widget之间的重要区别在于StatefulWidgets具有一个State对象，该对象存储状态数据并将其传递到树重建中，因此状态不会丢失。</p> <blockquote><p>请记住以下规则：如果widget在build之外更改（例如，由于运行时用户交互），则它是有状态的。如果widget永远不会改变，一旦构建，它就是无状态的。但是，即使widget是有状态的，如果包含它的父窗口小部件本身不对这些更改（或其他输入）做出反应，父widget仍然可以是无状态的。</p></blockquote> <h3 id="无状态的-statelesswidget"><a href="#无状态的-statelesswidget" class="header-anchor">#</a> 无状态的(StatelessWidget)</h3> <p>无状态widget的build方法通常只会在以下三种情况调用</p> <ul><li>将widget插入树中时</li> <li>当widget的父级更改其配置时</li> <li>当它依赖的InheritedWidget发生变化时</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>
    <span class="token string">'hello word'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontWeight<span class="token operator">:</span> FontWeight<span class="token punctuation">.</span>bold<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="有状态的-statefulwidget"><a href="#有状态的-statefulwidget" class="header-anchor">#</a> 有状态的(StatefulWidget)</h3> <p>Checkbox，Radio，Slider，InkWell，Form和TextField都是有状态的widge，也是StatefulWidget的子类</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
    <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> Key key <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token operator">:</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    @override
    _DemoState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">_DemoState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">_DemoState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Demo<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    String textToShow <span class="token operator">=</span> <span class="token string">'hhhhh'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">void</span> <span class="token function">_updateText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            textToShow <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
    
    @override
    Widget <span class="token function">build</span><span class="token punctuation">(</span><span class="token parameter">BuildContext context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span>
            <span class="token literal-property property">appBar</span><span class="token operator">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Sample App'</span><span class="token punctuation">)</span>            
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token function">Center</span><span class="token punctuation">(</span>
                <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>textToShow<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">floatingActionButton</span><span class="token operator">:</span> <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span>
                    <span class="token literal-property property">onPressed</span><span class="token operator">:</span> _updateText<span class="token punctuation">,</span>
                    <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token string">'Update Text'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>update<span class="token punctuation">)</span><span class="token punctuation">,</span>                
                <span class="token punctuation">)</span>            
            <span class="token punctuation">)</span>        
        <span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>管理状态有三种主要方式：</p> <ul><li>每个widget管理自己的状态</li> <li>父widget管理widget的状态</li> <li>混合搭配管理的方法</li></ul> <p>如何决定使用哪种方式时，可以参考以下原则：</p> <ul><li>如何所讨论的状态是用户数据，例如复选框的已选中或未选中状态，或滑块的位置，
则状态最好由父widget管理；</li> <li>如何widget的状态取决于动作，例如动画，那么最好由widget自身来管理状态</li> <li>如有还是不确定谁管理状态，请让父widget管理子widget的状态</li></ul> <h3 id="widget库的使用"><a href="#widget库的使用" class="header-anchor">#</a> Widget库的使用</h3> <ul><li>在Flutter中，要使用Material Design库中的小部件，则需要导入 material.dart包。</li> <li>要使用IOS样式widget，请导入Cupertino库。</li> <li>要使用更基本的窗口widget集，请导入widget库。</li> <li>也可以导入自己编写的widget</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span> <span class="token comment">// 导入系统 material widget库</span>
<span class="token keyword">import</span> <span class="token string">'package:flutter/cupertino.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'package:flutter/widgets.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'package:flutter/my_widgets.dart'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>无论你导入哪个widget包，Dart都只会导入在你的应用中使用的widget, 每个窗口widget都嵌套在父窗口widget中，并从其父窗口中继承属性。甚至应用程序对象本身也是一个组件，没有单独的“应用程序”对象。</p> <h2 id="资源、依赖和本地化"><a href="#资源、依赖和本地化" class="header-anchor">#</a> 资源、依赖和本地化</h2> <p>在flutter中assets可以是任意类型的文件，而不仅仅是图片。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>首先在pubspec<span class="token punctuation">.</span>yaml文件中声明 assets

<span class="token literal-property property">assets</span><span class="token operator">:</span>
    <span class="token operator">-</span> my<span class="token operator">-</span>assets<span class="token operator">/</span>data<span class="token punctuation">.</span>json

然后在代码中我们可以通过AssetBundle来访问它

<span class="token keyword">import</span> <span class="token string">'dart:async'</span> show Future<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'package:flutter/services.dart'</span> show rooBundle<span class="token punctuation">;</span>

Future<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">loadAssets</span><span class="token punctuation">(</span><span class="token punctuation">)</span> async <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> rootBundle<span class="token punctuation">.</span><span class="token function">loadString</span><span class="token punctuation">(</span><span class="token string">'my-assets/data.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

把图片（<span class="token number">1</span><span class="token punctuation">.</span>0x）放置到images文件夹中，并把其它分辨率的图片放在对应的子文件夹中，并接上合适的比例系数即可 
images<span class="token operator">/</span>my_icon<span class="token punctuation">.</span>png
images<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">.</span>0x<span class="token operator">/</span>my_icon<span class="token punctuation">.</span>png
images<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">.</span>0x<span class="token operator">/</span>my_icon<span class="token punctuation">.</span>png

接下来可以在pubspec<span class="token punctuation">.</span>yaml文件中这样声明这个图片资源：

<span class="token literal-property property">assets</span><span class="token operator">:</span>
    <span class="token operator">-</span> images<span class="token operator">/</span>my_icon<span class="token punctuation">.</span>png

现在，我们可以借助 AssetsImage 来访问它

<span class="token keyword">return</span> <span class="token function">AssetImage</span><span class="token punctuation">(</span><span class="token string">'images/my_icon.png'</span><span class="token punctuation">)</span>

也可以通过Image widget直接使用：

@override
Widget <span class="token function">build</span><span class="token punctuation">(</span><span class="token parameter">BuildContext context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Image<span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">'images/my_icon.png'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>Flutter目前没有专门的字符串资源系统。目前，最佳做法是将strings资源作为静态字段保存在类中。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Strings</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> String name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

然后可以：
<span class="token function">Text</span><span class="token punctuation">(</span>Strings<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>默认情况下，Flutter只支持美式英语字符串。如果你要支持其他语言，请引入flutter_localizations包。</p> <p>你可能也要引入intl包来支持其他i10n机制，比如日期/时间格式化设置代理，这些都是根据插件配置的，具体用法插件会介绍</p> <p>Flutter使用Dart构建系统和Pub包管理器来处理依赖。这些工具将Android和IOS native 包装应用程序的构建委派给相应的构建系统</p> <p>在Flutter中，虽然在Flutter项目中的Android文件夹下有Gradle文件，但只有在添加平台相关所需的依赖关系时才使用这些文件。否则，应该使用pubspec.yaml来声明
用于Flutter的外部依赖项。</p> <p>IOS在Podfile中添加</p> <h2 id="如何进行布局"><a href="#如何进行布局" class="header-anchor">#</a> 如何进行布局？</h2> <p>1、使用自身的一些属性比如 padding 等等  // 了解怎样设置这些值，比如 padding: EdgeInsets.only(left: 10.0, right: 10.0)</p> <p>2、或者包裹一些其它的widget</p> <p>3、在flutter中样式也是一个widget</p> <h2 id="如何对widget做动画"><a href="#如何对widget做动画" class="header-anchor">#</a> 如何对Widget做动画？</h2> <p>在flutter中，使用动画库来包裹widgets，而不是创建一个动画widget。</p> <p>AnimationController</p> <p>CurvedAnimation</p> <h2 id="如何绘图"><a href="#如何绘图" class="header-anchor">#</a> 如何绘图</h2> <p>类似Android中的canvas绘图</p> <p>CustomPaint</p> <p>CustomPainter</p> <h2 id="如何构建自定义widgets"><a href="#如何构建自定义widgets" class="header-anchor">#</a> 如何构建自定义widgets？</h2> <p>在Flutter中，推荐组合多个小的widgets来构建一个自定义widget（而不是扩展它）</p> <p>举个栗子，如果你要构建一个CustomButton，并在构造器中传入它的label？那就组合RaisedButton和label，而不是扩展RaisedButton</p> <h2 id="如何设置widget的透明度"><a href="#如何设置widget的透明度" class="header-anchor">#</a> 如何设置widget的透明度？</h2> <p>可以给widget包裹一个 Opacity widget</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Opacity</span><span class="token punctuation">(</span>
    <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'透明度50%'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="布局和列表"><a href="#布局和列表" class="header-anchor">#</a> 布局和列表</h2> <h3 id="row-水平布局"><a href="#row-水平布局" class="header-anchor">#</a> row 水平布局</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">return</span> <span class="token function">Row</span><span class="token punctuation">(</span>
    <span class="token literal-property property">mainAxisAlignment</span><span class="token operator">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span><span class="token punctuation">[</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'One'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Two'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Three'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Four'</span><span class="token punctuation">)</span>    
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="column-垂直布局"><a href="#column-垂直布局" class="header-anchor">#</a> column 垂直布局</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span>
    <span class="token literal-property property">mainAxisAlignment</span><span class="token operator">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span><span class="token punctuation">[</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'One'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Two'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Three'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Four'</span><span class="token punctuation">)</span>    
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="relativelayout"><a href="#relativelayout" class="header-anchor">#</a> RelativeLayout</h3> <p>可以通过Column、Row和Stack的组合实现 RelativeLayout 效果</p> <p>可参考：stackoverflow，Equivalent of Relativelayout in Flutter</p> <h3 id="如何使用widget定义布局属性"><a href="#如何使用widget定义布局属性" class="header-anchor">#</a> 如何使用widget定义布局属性？</h3> <p>1、可以使用自身属性</p> <p>2、使用各个小widget进行组合</p> <h3 id="如何分层布局"><a href="#如何分层布局" class="header-anchor">#</a> 如何分层布局？</h3> <p>Flutter使用Stack widget控制子widget在一层。子widgets可以完全或者部分覆盖基础widgets</p> <p>Stack控件将其子项相对于其框的边缘定位。如果你只想重叠多个子窗口小部件，这个类很有用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Stack</span><span class="token punctuation">(</span>
    <span class="token literal-property property">alignment</span><span class="token operator">:</span> <span class="token keyword">const</span> <span class="token function">Alignment</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 设置布局位置</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span><span class="token punctuation">[</span>
        <span class="token function">CircleAvatar</span><span class="token punctuation">(</span>
            <span class="token literal-property property">backgroundImage</span><span class="token operator">:</span> <span class="token function">NetworImage</span><span class="token punctuation">(</span><span class="token string">'picture address'</span><span class="token punctuation">)</span>        
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Container</span><span class="token punctuation">(</span>
            <span class="token literal-property property">decoration</span><span class="token operator">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span>
                <span class="token literal-property property">color</span><span class="token operator">:</span> Color<span class="token punctuation">.</span>black45<span class="token punctuation">,</span>            
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Flutter'</span><span class="token punctuation">)</span>        
        <span class="token punctuation">)</span>    
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="如何设置布局样式"><a href="#如何设置布局样式" class="header-anchor">#</a> 如何设置布局样式？</h3> <p>Text widget可以使用TextStyle属性。如果要在多个位置使用相同的文本样式，你可以创建一个 TextStyle 类并将其应用于各个 Text widgets 中</p> <h3 id="scrollview-在flutter中等价于什么"><a href="#scrollview-在flutter中等价于什么" class="header-anchor">#</a> Scrollview 在Flutter中等价于什么？</h3> <p>ListView</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">return</span> <span class="token function">ListView</span><span class="token punctuation">(</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span><span class="token punctuation">[</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'two'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'three'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'four'</span><span class="token punctuation">)</span>  
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

List<span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span> widgets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>更新ListView数据的时候，数据量小的时候可以重新创建一个List</p> <p>数据量大的时候，更推荐的做法是使用ListView.Builder来构建列表，这个方法在你想要构建动态列表，或是列表拥有大量数据时会非常好用</p> <h2 id="路由导航-navigator-1-0"><a href="#路由导航-navigator-1-0" class="header-anchor">#</a> 路由导航(Navigator 1.0)</h2> <blockquote><p>参考资料：https://api.flutter.dev/flutter/material/MaterialApp-class.html</p></blockquote> <p>The <a href="https://api.flutter.dev/flutter/material/MaterialApp-class.html" target="_blank" rel="noopener noreferrer">MaterialApp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> configures the top-level <a href="https://api.flutter.dev/flutter/widgets/Navigator-class.html" target="_blank" rel="noopener noreferrer">Navigator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to search for routes in the following order:</p> <ol><li>For the <code>/</code> route, the <a href="https://api.flutter.dev/flutter/material/MaterialApp/home.html" target="_blank" rel="noopener noreferrer">home<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> property, if non-null, is used.</li> <li>Otherwise, the <a href="https://api.flutter.dev/flutter/material/MaterialApp/routes.html" target="_blank" rel="noopener noreferrer">routes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> table is used, if it has an entry for the route.</li> <li>Otherwise, <a href="https://api.flutter.dev/flutter/material/MaterialApp/onGenerateRoute.html" target="_blank" rel="noopener noreferrer">onGenerateRoute<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is called, if provided. It should return a non-null value for any <em>valid</em> route not handled by <a href="https://api.flutter.dev/flutter/material/MaterialApp/home.html" target="_blank" rel="noopener noreferrer">home<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://api.flutter.dev/flutter/material/MaterialApp/routes.html" target="_blank" rel="noopener noreferrer">routes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Finally if all else fails <a href="https://api.flutter.dev/flutter/material/MaterialApp/onUnknownRoute.html" target="_blank" rel="noopener noreferrer">onUnknownRoute<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is called.</li></ol> <p>If <a href="https://api.flutter.dev/flutter/material/MaterialApp/home.html" target="_blank" rel="noopener noreferrer">home<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://api.flutter.dev/flutter/material/MaterialApp/routes.html" target="_blank" rel="noopener noreferrer">routes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://api.flutter.dev/flutter/material/MaterialApp/onGenerateRoute.html" target="_blank" rel="noopener noreferrer">onGenerateRoute<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and <a href="https://api.flutter.dev/flutter/material/MaterialApp/onUnknownRoute.html" target="_blank" rel="noopener noreferrer">onUnknownRoute<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> are all null, and <a href="https://api.flutter.dev/flutter/material/MaterialApp/builder.html" target="_blank" rel="noopener noreferrer">builder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is not null, then no <a href="https://api.flutter.dev/flutter/widgets/Navigator-class.html" target="_blank" rel="noopener noreferrer">Navigator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is created.</p> <p>在Flutter中，有两个主要的widget用于在页面之间的导航：</p> <ul><li>Route 是一个应用程序抽象的屏幕或页面</li> <li>Navigator 是一个管理路由的widget</li></ul> <p>以上两种widget对应flutter 中实现页面导航的有两种选择：</p> <ul><li>具体指定一个由路由名构成的Map（MaterialApp）</li> <li>直接跳转到一个路由。（WidgetApp）</li></ul> <p>下面是构建一个 Map 的例子：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>void main() {
	runApp(
		MaterialApp(
			home: MyAppHome(),  // becomes the route named '/'
			routes: &lt;String, WidgetBuilder&gt; {
				'/a': (BuildContext context) =&gt; MyPage(title: 'page A'),
				'/b': (BuildContext context) =&gt; MyPage(title: 'page B'),
				'/c': (BuildContext context) =&gt; MyPage(title: 'page C'),
			}
		)
	);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>通过把路由的名字 push 给一个 Navigator 来跳转：</p> <p><code>Navigator.of(context).pushNamed('/b');</code></p> <p>还可以使用 Navigator 的 push 方法，该方法将给定 route 添加到导航的历史记录中。在以下示例中，MaterialPageRoute widget 是一种模板路由，它根据平台自适应替换整个页面。它需要一个WidgetBuilder作为必须参数。</p> <p><code>Navigator.push(context, MaterialPageRoute(builder: (BuilderContext context) =&gt; UsualNavScreen()))</code></p> <h3 id="如何获取路由跳转返回的结果"><a href="#如何获取路由跳转返回的结果" class="header-anchor">#</a> 如何获取路由跳转返回的结果？</h3> <p>通过 await 等待路由返回的结果</p> <p>举个例子，要跳转到 “位置” 路由来让用户选择一个地点</p> <p><code>Map coordinates = await Navigator.of(context).pushNamed('/location')</code>;</p> <p>之后，在 location 路由中，一旦用户选择了地点，携带结果一起 pop() 出栈</p> <p><code>Navigator.of(context).pop({ &quot;lat&quot;: 43.821757, &quot;long&quot;: 78.224654 })</code></p> <h3 id="怎样接受外部程序传给我们的值"><a href="#怎样接受外部程序传给我们的值" class="header-anchor">#</a> 怎样接受外部程序传给我们的值？</h3> <p>MethodChannel</p> <h3 id="怎样跳转到其它-app"><a href="#怎样跳转到其它-app" class="header-anchor">#</a> 怎样跳转到其它 App？</h3> <p>使用插件：url_launcher</p> <h2 id="线程和异步ui"><a href="#线程和异步ui" class="header-anchor">#</a> 线程和异步UI</h2> <h3 id="怎样编写异步代码"><a href="#怎样编写异步代码" class="header-anchor">#</a> 怎样编写异步代码？</h3> <p>Dart有一个单线程执行模型，支持Isolate（一种在另一个线程上运行Dart代码的方法），一个事件循环和异步编程。除非你自己创建一个Isolate，否则你的Dart代码永远运行在主UI线程，并由 eventloop 驱动。</p> <p>Dart的单线程模型，并不意味着你写的代码一定要作为阻塞操作的方式运行，从而卡主UI。相反，可以使用Dart语言提供的异步工具，例如 async / await，来实现异步操作。</p> <p>编写网络请求代码而不会挂起UI：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> async <span class="token punctuation">{</span>
    String dataURL <span class="token operator">=</span> <span class="token string">'https://xxxxxxxxxxx/posts'</span><span class="token punctuation">;</span>
    http<span class="token punctuation">.</span>Response response <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>dataURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	widgets <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>         
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>上面做法等价于 Android 中的 runOnUiThread</p></blockquote> <h3 id="怎样开启一个独立的后台线程"><a href="#怎样开启一个独立的后台线程" class="header-anchor">#</a> 怎样开启一个独立的后台线程？</h3> <p>由于Flutter是单线程并且跑着一个 event loop（就像 Node.js），因此你不必担心线程管理或生成后台线程。如果你正在做 I/O 操作，如访问磁盘或网络请求，可以安全地使用 async/await 来完成。如果你需要做让CPU执行繁忙的计算密集型任务，你需要使用Isolate来避免阻塞 event loop。</p> <p>在 Flutter 中，可以使用 Isolate 来发挥多核心 CPU 的优势来处理那些长期运行或是计算密集型的任务。</p> <p>Isolate 是分离的运行线程，并且不和主线程的内存堆共享内存。这意味着你不能访问主线程中的变量，或者使用 setState() 来更新 UI。和它的名字一样，Isolate 不能共享内存。</p> <p>举个简单的例子Isolate是如何把数据返回给主线程来更新UI的：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:isolate'</span></span><span class="token punctuation">;</span>

<span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token comment">// 打开 ReceivePort 以接收传入的消息</span>
    <span class="token class-name">ReceivePort</span> receivePort <span class="token operator">=</span> <span class="token class-name">ReceivePort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建并生成与当前 Isolate 共享相同代码的 Isolate</span>
    <span class="token keyword">await</span> <span class="token class-name">Isolate</span><span class="token punctuation">.</span><span class="token function">spawan</span><span class="token punctuation">(</span>dataLoader<span class="token punctuation">,</span> receivePort<span class="token punctuation">.</span>sendPort<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 流的第一个元素</span>
    <span class="token class-name">SendPort</span> sendPort <span class="token operator">=</span> <span class="token keyword">await</span> receivePort<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="如何进行网络请求"><a href="#如何进行网络请求" class="header-anchor">#</a> 如何进行网络请求？</h3> <p>在 Flutter 中，使用流行的 http package 做网络请求非常简单。它把你可能需要自己做的网络请求操作抽象了出来，让发起请求变得简答。</p> <h3 id="如何为长时间运行的任务添加一个进度指示器"><a href="#如何为长时间运行的任务添加一个进度指示器" class="header-anchor">#</a> 如何为长时间运行的任务添加一个进度指示器？</h3> <p>ProgressIndicator。通过一个布尔 flag 来控制是否展示进度。在任务开始是，告诉 Flutter 更新状态，并在结束后隐藏。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>getProgressDialog() {
	return Center(child: CircularProgressIndicator());
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="手势检测及触摸事件处理"><a href="#手势检测及触摸事件处理" class="header-anchor">#</a> 手势检测及触摸事件处理</h2> <h3 id="如何给-flutter-的-widget-添加一个点击事件的监听"><a href="#如何给-flutter-的-widget-添加一个点击事件的监听" class="header-anchor">#</a> 如何给 Flutter 的 widget 添加一个点击事件的监听？</h3> <p>1、如果 widget 本身支持事件监测，直接传递给它一个函数，并在这个函数里实现相应的方法。例如， RaisedButton widget 拥有一个 onPressed 参数：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token metadata function">@override</span>
<span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">RaisedButton</span><span class="token punctuation">(</span>
    	onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'click'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Button'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>2、如果 widget 本身不支持事件监测，则在外面包裹一个 GestureDetector，并给它的 onTap 属性传递一个函数：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
	body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
    	child<span class="token punctuation">:</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>
        	child<span class="token punctuation">:</span> <span class="token class-name">FlutterLogo</span><span class="token punctuation">(</span>
            	size<span class="token punctuation">:</span> <span class="token number">200.0</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">onTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'tap'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="如何处理-widget-上的其他手势"><a href="#如何处理-widget-上的其他手势" class="header-anchor">#</a> 如何处理 widget 上的其他手势？</h3> <p>使用GesturedDetector，可以监听多种手势，例如</p> <ul><li>点击
<ul><li>onTapDown --- 在特定位置轻触手势接触了屏幕</li> <li>onTapUp --- 在特定位置产生了一个轻触手势，并停止接触屏幕</li> <li>onTap --- 产生了一个轻触手势</li> <li>onTapCancel --- 触发了 onTapDown 但没能触发 tap</li></ul></li> <li>双击
<ul><li>onDoubleTap --- 用户在同一个位置快速点击了两下屏幕</li></ul></li> <li>长按
<ul><li>onLongPress --- 用户在同一个位置长时间接触屏幕</li></ul></li> <li>垂直拖动
<ul><li>onVerticalDragStart --- 接触了屏幕，并且可能会垂直移动</li> <li>onVerticalDragUpdate --- 接触了屏幕，并继续在垂直方向移动</li> <li>onVerticalDragEnd --- 之前接触了屏幕垂直移动，并在停止接触屏幕前以某个垂直的速度移动。</li></ul></li> <li>水平拖动
<ul><li>onHorizontalDragStart</li> <li>onHorizontalDragUpdate</li> <li>onHorizontalDragEnd</li></ul></li></ul> <h2 id="主题和文字处理"><a href="#主题和文字处理" class="header-anchor">#</a> 主题和文字处理</h2> <h3 id="如何设置自定义字体"><a href="#如何设置自定义字体" class="header-anchor">#</a> 如何设置自定义字体？</h3> <p>在需要的文件夹中放置字体文件，并在 pubspec.yaml 中引用它，就像添加图片那样</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>fonts:
	- family: MyCustomFont
	  fonts:
	  	- asset: fonts/MyCustomFont.ttf
	  	- style: italic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
	child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>
    	<span class="token string-literal"><span class="token string">'hello'</span></span><span class="token punctuation">,</span>
        style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontFamily<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'MyCustomFont'</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="如何在text上定义样式"><a href="#如何在text上定义样式" class="header-anchor">#</a> 如何在Text上定义样式？</h3> <p>Text widget 接受一个 TextStyle 对象，可以接收许多参数</p> <ul><li>color</li> <li>decoration</li> <li>decorationColor</li> <li>decorationStyle</li> <li>fontFamily</li> <li>fontSize</li> <li>fontStyle</li> <li>fontWeight</li> <li>hashCode</li> <li>height</li> <li>inherit</li> <li>letterSpacing</li> <li>textBaseline</li> <li>wordSpacing</li></ul> <h3 id="如何设置主题"><a href="#如何设置主题" class="header-anchor">#</a> 如何设置主题？</h3> <p>你可以在你的App中使用 WidgetApp, 它提供了许多相似的功能，但不如 MaterialApp 那样强大。</p> <p>使用ThemeData对象</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
	title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'App'</span></span><span class="token punctuation">,</span>
    theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>
    	primarySwatch<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>blueGrey<span class="token punctuation">,</span>
        textSelectionColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="表单输入与富文本"><a href="#表单输入与富文本" class="header-anchor">#</a> 表单输入与富文本</h2> <p>TextField 或 TextFormField， 然后通过 TextEditingController 来获得用户输入</p> <p>RichText 富文本， TextSpan 的用法</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> _MyFormState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyForm</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> myController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token metadata function">@override</span>
    <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        myController<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token metadata function">@override</span>
    <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// InputDecoration 可以添加提示信息，和添加错误信息</span>
        <span class="token class-name">String</span> _errorText<span class="token punctuation">;</span>
        
        <span class="token keyword">void</span> <span class="token function">_getErrorText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTrue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _errorText <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'error: this is not an email'</span></span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                _errorText <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        bool <span class="token function">isTrue</span><span class="token punctuation">(</span><span class="token class-name">String</span> emailString<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> emailRegexp <span class="token operator">=</span> <span class="token string-literal"><span class="token string">r'^....'</span></span><span class="token punctuation">;</span>
            <span class="token class-name">RegExp</span> regExp <span class="token operator">=</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>emailRegexp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> regExp<span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>emailString<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
        	appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>
            	title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Retrieve Text Input'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            body<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>
            	padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>
                	controller<span class="token punctuation">:</span> myController<span class="token punctuation">,</span>
                    decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'please'</span></span><span class="token punctuation">,</span> errorText<span class="token punctuation">:</span> <span class="token function">_getErrorText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 输入提示文字</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="如何调用硬件与第三方服务"><a href="#如何调用硬件与第三方服务" class="header-anchor">#</a> 如何调用硬件与第三方服务？</h2> <p>通过集成对应的插件来完成</p> <ul><li>用于访问位置信息GPS的插件：geolocator</li> <li>用于访问相册与相机的插件：image_picker</li> <li>本地存储：SharedPreferences</li> <li>用于访问数据的插件：SQFlite</li> <li>用户唤起第三方登录Facebook插件：flutter_facebook_login</li> <li>用于推送通知的插件：firebase_messaging</li> <li>用于使用Firebase的插件：firebase plugin</li></ul> <h2 id="补充"><a href="#补充" class="header-anchor">#</a> 补充</h2> <ul><li>责任的分离将更大的复杂性封装在各个 widget 中，保证了父级的简单性。</li> <li>widget 上下文</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span>
   <span class="token literal-property property">appBar</span><span class="token operator">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span>
   <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// widget </span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">5/13/2022, 11:07:13 AM</span></div></footer> <!----> <div class="comments-wrapper" style="display:none;"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-b3e8c72c><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#widgets-介绍" class="sidebar-link reco-side-widgets-介绍" data-v-b3e8c72c>Widgets 介绍</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#无状态的-statelesswidget" class="sidebar-link reco-side-无状态的-statelesswidget" data-v-b3e8c72c>无状态的(StatelessWidget)</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#有状态的-statefulwidget" class="sidebar-link reco-side-有状态的-statefulwidget" data-v-b3e8c72c>有状态的(StatefulWidget)</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#widget库的使用" class="sidebar-link reco-side-widget库的使用" data-v-b3e8c72c>Widget库的使用</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#资源、依赖和本地化" class="sidebar-link reco-side-资源、依赖和本地化" data-v-b3e8c72c>资源、依赖和本地化</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何进行布局" class="sidebar-link reco-side-如何进行布局" data-v-b3e8c72c>如何进行布局？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何对widget做动画" class="sidebar-link reco-side-如何对widget做动画" data-v-b3e8c72c>如何对Widget做动画？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何绘图" class="sidebar-link reco-side-如何绘图" data-v-b3e8c72c>如何绘图</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何构建自定义widgets" class="sidebar-link reco-side-如何构建自定义widgets" data-v-b3e8c72c>如何构建自定义widgets？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何设置widget的透明度" class="sidebar-link reco-side-如何设置widget的透明度" data-v-b3e8c72c>如何设置widget的透明度？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#布局和列表" class="sidebar-link reco-side-布局和列表" data-v-b3e8c72c>布局和列表</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#row-水平布局" class="sidebar-link reco-side-row-水平布局" data-v-b3e8c72c>row 水平布局</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#column-垂直布局" class="sidebar-link reco-side-column-垂直布局" data-v-b3e8c72c>column 垂直布局</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#relativelayout" class="sidebar-link reco-side-relativelayout" data-v-b3e8c72c>RelativeLayout</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何使用widget定义布局属性" class="sidebar-link reco-side-如何使用widget定义布局属性" data-v-b3e8c72c>如何使用widget定义布局属性？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何分层布局" class="sidebar-link reco-side-如何分层布局" data-v-b3e8c72c>如何分层布局？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何设置布局样式" class="sidebar-link reco-side-如何设置布局样式" data-v-b3e8c72c>如何设置布局样式？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#scrollview-在flutter中等价于什么" class="sidebar-link reco-side-scrollview-在flutter中等价于什么" data-v-b3e8c72c>Scrollview 在Flutter中等价于什么？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#路由导航-navigator-1-0" class="sidebar-link reco-side-路由导航-navigator-1-0" data-v-b3e8c72c>路由导航(Navigator 1.0)</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何获取路由跳转返回的结果" class="sidebar-link reco-side-如何获取路由跳转返回的结果" data-v-b3e8c72c>如何获取路由跳转返回的结果？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#怎样接受外部程序传给我们的值" class="sidebar-link reco-side-怎样接受外部程序传给我们的值" data-v-b3e8c72c>怎样接受外部程序传给我们的值？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#怎样跳转到其它-app" class="sidebar-link reco-side-怎样跳转到其它-app" data-v-b3e8c72c>怎样跳转到其它 App？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#线程和异步ui" class="sidebar-link reco-side-线程和异步ui" data-v-b3e8c72c>线程和异步UI</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#怎样编写异步代码" class="sidebar-link reco-side-怎样编写异步代码" data-v-b3e8c72c>怎样编写异步代码？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#怎样开启一个独立的后台线程" class="sidebar-link reco-side-怎样开启一个独立的后台线程" data-v-b3e8c72c>怎样开启一个独立的后台线程？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何进行网络请求" class="sidebar-link reco-side-如何进行网络请求" data-v-b3e8c72c>如何进行网络请求？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何为长时间运行的任务添加一个进度指示器" class="sidebar-link reco-side-如何为长时间运行的任务添加一个进度指示器" data-v-b3e8c72c>如何为长时间运行的任务添加一个进度指示器？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#手势检测及触摸事件处理" class="sidebar-link reco-side-手势检测及触摸事件处理" data-v-b3e8c72c>手势检测及触摸事件处理</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何给-flutter-的-widget-添加一个点击事件的监听" class="sidebar-link reco-side-如何给-flutter-的-widget-添加一个点击事件的监听" data-v-b3e8c72c>如何给 Flutter 的 widget 添加一个点击事件的监听？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何处理-widget-上的其他手势" class="sidebar-link reco-side-如何处理-widget-上的其他手势" data-v-b3e8c72c>如何处理 widget 上的其他手势？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#主题和文字处理" class="sidebar-link reco-side-主题和文字处理" data-v-b3e8c72c>主题和文字处理</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何设置自定义字体" class="sidebar-link reco-side-如何设置自定义字体" data-v-b3e8c72c>如何设置自定义字体？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何在text上定义样式" class="sidebar-link reco-side-如何在text上定义样式" data-v-b3e8c72c>如何在Text上定义样式？</a></li><li class="level-3" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何设置主题" class="sidebar-link reco-side-如何设置主题" data-v-b3e8c72c>如何设置主题？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#表单输入与富文本" class="sidebar-link reco-side-表单输入与富文本" data-v-b3e8c72c>表单输入与富文本</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#如何调用硬件与第三方服务" class="sidebar-link reco-side-如何调用硬件与第三方服务" data-v-b3e8c72c>如何调用硬件与第三方服务？</a></li><li class="level-2" data-v-b3e8c72c><a href="/blogs/flutter/2022/220502.html#补充" class="sidebar-link reco-side-补充" data-v-b3e8c72c>补充</a></li></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-65133105 data-v-65133105><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-65133105><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-65133105></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-65133105></path></svg></div></div></div>
    <script src="/assets/js/app.07dcf3b5.js" defer></script><script src="/assets/js/3.79eb07b7.js" defer></script><script src="/assets/js/1.09246d0c.js" defer></script><script src="/assets/js/15.89f4215f.js" defer></script>
  </body>
</html>
